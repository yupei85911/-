<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>éšéšèªæ°´æœå‹•ç‰©éŠæˆ² ğŸğŸ¶</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Baloo+2&display=swap');

body {
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-family:'Baloo 2', cursive;
  background: #fff8e7;
  color:#333;
  height:100vh;
  margin:0;
}

h1 { 
  font-size:3em; 
  margin-bottom:20px; 
  color:#ff6f91;
  text-align:center;
}

button {
  font-size:2em;
  padding:15px 30px;
  border-radius:25px;
  border:none;
  background:#ffdd99;
  cursor:pointer;
  margin:5px;
  transition:0.1s;
}
button:hover { transform: scale(1.05); background:#ffd066; }
button:active { transform: scale(1.1); background:#ffc633; }

#startBtn { background: linear-gradient(45deg,#ffb347,#ffcc33); }

#game { display:none; flex-direction:column; align-items:center; }

#items { font-size:5em; margin-bottom:20px; }

#question { font-size:2.5em; margin:20px; text-align:center; }

button.choiceBtn { font-size:2em; padding:20px 30px; border-radius:25px; margin:5px; }

#feedback { font-size:2em; margin-top:20px; height:50px; text-align:center; }
</style>
</head>
<body>

<h1>éšéšèªæ°´æœèˆ‡å‹•ç‰© ğŸğŸ¶</h1>
<button id="startBtn">é–‹å§‹éŠæˆ² ğŸ®</button>

<div id="game">
  <div id="items"></div>
  <div id="question"></div>
  <div id="choices"></div>
  <div id="feedback"></div>
  <div>
    <button id="nextBtn">ä¸‹ä¸€é¡Œ â¡ï¸</button>
    <button id="endBtn">çµæŸ âŒ</button>
  </div>
</div>

<script>
const startBtn = document.getElementById('startBtn');
const gameEl = document.getElementById('game');
const itemsEl = document.getElementById('items');
const questionEl = document.getElementById('question');
const choicesEl = document.getElementById('choices');
const feedbackEl = document.getElementById('feedback');
const nextBtn = document.getElementById('nextBtn');
const endBtn = document.getElementById('endBtn');

const pool = [
  {emoji:"ğŸ", zh:"ã„†ã„§ã„¥ËŠ ã„ã„¨ã„›Ë‡"},
  {emoji:"ğŸŒ", zh:"ã„’ã„§ã„¤ ã„ã„§ã„ "},
  {emoji:"ğŸ‡", zh:"ã„†ã„¨ËŠ ã„Šã„ ËŠ"},
  {emoji:"ğŸ“", zh:"ã„˜ã„ Ë‡ ã„‡ã„ŸËŠ"},
  {emoji:"ğŸ¶", zh:"ã„ã„¡Ë‡ ã„ã„¡Ë‡"},
  {emoji:"ğŸ±", zh:"ã„‡ã„  ã„‡ã„ "},
  {emoji:"ğŸ°", zh:"ã„Šã„¨Ë‹ ã„—Ë™"},
  {emoji:"ğŸ·", zh:"ã„“ã„¨"},
  {emoji:"ğŸ¦’", zh:"ã„”ã„¤ËŠ ã„ã„§ã„¥Ë‡ ã„Œã„¨Ë‹"}
];

let currentItem, currentCount;

// é–‹å§‹éŠæˆ²
startBtn.addEventListener('click', ()=>{
  startBtn.style.display = 'none';
  gameEl.style.display = 'flex';
  newQuestion();
});

// ä¸‹ä¸€é¡ŒæŒ‰éˆ•
nextBtn.addEventListener('click', ()=>newQuestion());

// çµæŸéŠæˆ²æŒ‰éˆ•
endBtn.addEventListener('click', ()=>{
  gameEl.style.display = 'none';
  startBtn.style.display = 'inline-block';
  feedbackEl.textContent = "";
});

// ç”Ÿæˆæ–°é¡Œç›®
function newQuestion(){
  feedbackEl.textContent = "";
  choicesEl.innerHTML = "";

  currentItem = pool[Math.floor(Math.random()*pool.length)];
  currentCount = Math.floor(Math.random()*3)+1;

  let display = "";
  for(let i=0;i<currentCount;i++){
    display += currentItem.emoji + " ";
  }
  display += "<br>" + currentItem.zh;
  itemsEl.innerHTML = display;

  questionEl.textContent = `è«‹å•æœ‰å¹¾å€‹ ${currentItem.emoji}ï¼Ÿ`;

  // ä¸‰å€‹ä¸é‡è¤‡é¸é …
  let options = new Set();
  options.add(currentCount);
  while(options.size < 3){
    let delta = Math.floor(Math.random()*4) - 2;
    if(delta===0) continue;
    let opt = currentCount + delta;
    if(opt < 1) opt = 1;
    options.add(opt);
  }

  options = Array.from(options);
  options.sort(()=>Math.random()-0.5);

  options.forEach(opt=>{
    const btn = document.createElement('button');
    btn.textContent = opt + " ğŸˆ";
    btn.className = 'choiceBtn';
    btn.addEventListener('click', ()=>checkAnswer(opt));
    choicesEl.appendChild(btn);
  });
}

// æª¢æŸ¥ç­”æ¡ˆ
function checkAnswer(selected){
  if(selected===currentCount){
    feedbackEl.textContent = "ğŸ‰ å¥½æ£’ï¼ç­”å°äº†ï¼";
    feedbackEl.style.color = "green";
  } else {
    feedbackEl.textContent = "ğŸ˜… å†è©¦ä¸€æ¬¡";
    feedbackEl.style.color = "red";
  }
}
</script>

</body>
</html>
